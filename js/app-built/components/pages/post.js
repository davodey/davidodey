define("disqus",["disqus"],function(){var e=document,t=e.createElement("script");t.src="//davidodey.disqus.com/embed.js",t.setAttribute("data-timestamp",+(new Date)),(e.head||e.body).appendChild(t)}),define("typescript",["//use.typekit.net/jag4iyt.js"],function(){try{Typekit.load()}catch(e){}}),function(t,n,r,i){function u(e,n){this.element=e,this.options=t.extend(!0,{},o,n),this.options.share=n.share,this._defaults=o,this._name=s,this.platforms={},this.init()}var s="sharrre",o={className:"sharrre",share:{},shareTotal:0,template:"",title:"",url:r.location.href,text:r.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,defaultUrl:"javascript:void(0);",popup:{width:900,height:500},hover:function(){},hide:function(){},click:function(){},render:function(){}};u.prototype.init=function(){var e=this;t.each(e.options.share,function(t,n){n===!0&&(e.platforms[t]=SharrrePlatform.get(t,e.options.buttons[t]))}),t(this.element).addClass(this.options.className),typeof t(this.element).data("title")!="undefined"&&(this.options.title=t(this.element).attr("data-title")),typeof t(this.element).data("url")!="undefined"&&(this.options.url=t(this.element).data("url")),typeof t(this.element).data("text")!="undefined"&&(this.options.text=t(this.element).data("text")),t.each(this.options.share,function(t,n){n===!0&&e.options.shareTotal++}),e.options.enableCounter===!0?t.each(this.options.share,function(t,n){if(n===!0)try{e.getSocialJson(t)}catch(r){}}):e.options.template!==""&&(e.renderer(),e.options.count[name]=0,e.rendererPerso()),e.options.template!==""?this.options.render(this,this.options):this.loadButtons(),t(this.element).on("mouseenter",function(){t(this).find(".buttons").length===0&&e.options.enableHover===!0&&e.loadButtons(),e.options.hover(e,e.options)}).on("mouseleave",function(){e.options.hide(e,e.options)}),t(this.element).click(function(t){return t.preventDefault(),e.options.click(e,e.options),!1})},u.prototype.loadButtons=function(){var e=this;t(this.element).append('<div class="buttons"></div>'),t.each(e.options.share,function(t,n){n==1&&(e.platforms[t].load(e),e.options.enableTracking===!0&&e.platforms[t].tracking())})},u.prototype.getSocialJson=function(e){var n=this,r=0,i=n.platforms[e].settings,s=n.platforms[e].url(this.options.urlCurl),o=encodeURIComponent(this.options.url);i.url.length&&(s=i.url),i.urlCount===!0&&s!==""&&(o=s),i.count===!1&&(s=""),url=s.replace("{url}",o),url!=""?t.getJSON(url,function(t){if(typeof t.count!="undefined"){var i=t.count+"";i=i.replace("Â ",""),r+=parseInt(i,10)}else t.data&&t.data.length>0&&typeof t.data[0].total_count!="undefined"?r+=parseInt(t.data[0].total_count,10):typeof t[0]!="undefined"?r+=parseInt(t[0].total_posts,10):typeof t[0]!="undefined";n.options.count[e]=r,n.options.total+=r,n.renderer(),n.rendererPerso()}).error(function(){n.options.count[e]=0,n.rendererPerso()}):(n.renderer(),n.options.count[e]=0,n.rendererPerso())},u.prototype.rendererPerso=function(){var t=0;for(e in this.options.count)t++;t===this.options.shareTotal&&this.options.render(this,this.options)},u.prototype.renderer=function(){var e=this.options.total,n=this.options.template;this.options.shorterTotal===!0&&(e=this.shorterTotal(e)),n!==""?(n=n.replace("{total}",e),t(this.element).html(n)):t(this.element).html('<div class="box"><a class="count" href="'+this.options.defaultUrl+'">'+e+"</a>"+(this.options.title!==""?'<a class="share" href="'+this.options.defaultUrl+'">'+this.options.title+"</a>":"")+"</div>")},u.prototype.shorterTotal=function(e){return e>=1e6?e=(e/1e6).toFixed(2)+"M":e>=1e3&&(e=(e/1e3).toFixed(1)+"k"),e},u.prototype.openPopup=function(e){this.platforms[e].popup(this.options),this.options.enableTracking===!0&&(infos=this.platforms[e].trackingAction,_gaq.push(["_trackSocial",infos.site,infos.action]))},u.prototype.simulateClick=function(){var e=t(this.element).html();t(this.element).html(e.replace(this.options.total,this.options.total+1))},u.prototype.update=function(e,t){e!==""&&(this.options.url=e),t!==""&&(this.options.text=t)},t.fn[s]=function(e){var n=arguments;if(e===i||typeof e=="object")return this.each(function(){t(this).data("plugin_"+s)||t(this).data("plugin_"+s,new u(this,e))});if(typeof e=="string"&&e[0]!=="_"&&e!=="init")return this.each(function(){var r=t(this).data("plugin_"+s);r instanceof u&&typeof r[e]=="function"&&r[e].apply(r,Array.prototype.slice.call(n,1))})}}(window.jQuery||window.Zepto,window,document),define("share/jquery.sharrre",["jquery"],function(){});var SharrrePlatform=SharrrePlatform||function(){var e={};return{register:function(t,n){e[t]=n},get:function(t,n){return e[t]?new e[t](n):(console.error("Sharrre - No platform found for "+t),!1)}}}();define("share/platform/platform",["jquery","share/jquery.sharrre"],function(){}),SharrrePlatform.register("twitter",function(e){return defaultSettings={url:"",urlCount:!1,count:!1,hashtags:"",via:"",related:"",lang:"en",popup:{width:650,height:360}},defaultSettings=$.extend(!0,{},defaultSettings,e),{settings:defaultSettings,trackingAction:{site:"twitter",action:"tweet"},url:function(e){return"https://opensharecount.com/count.json?url={url}"},load:function(e){var t=this.settings;$(e.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(t.url!==""?t.url:e.options.url)+'" data-count="'+t.count+'" data-text="'+e.options.text+'" data-via="'+t.via+'" data-hashtags="'+t.hashtags+'" data-related="'+t.related+'" data-lang="'+t.lang+'">Tweet</a></div>');var n=0;typeof twttr=="undefined"&&n==0?(n=1,function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://platform.twitter.com/widgets.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()):$.ajax({url:"https://platform.twitter.com/widgets.js",dataType:"script",cache:!0})},tracking:function(){tw=window.setInterval(function(){typeof twttr!="undefined"&&(twttr.events.bind("tweet",function(e){e&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1e3)},popup:function(e){window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(e.text)+"&url="+encodeURIComponent(this.settings.url!==""?this.setting.url:e.url)+(this.settings.via!==""?"&via="+this.settings.via:""),"","toolbar=0, status=0,width="+this.settings.popup.width+", height="+this.settings.popup.height)}}}),define("share/platform/twitter",function(){}),require(["jquery","disqus","typescript","share/platform/platform","share/platform/twitter"],function(e){"use strict";e(document).ready(function(){function i(t,n){e.ajax({url:t,cache:!0,type:"POST",dataType:"jsonp",data:{url:r.pageUrl},success:function(e){n(e)}})}var t,n=e(location).attr("href"),r={facebook:!0,linkedin:!0,googlePlus:!0,pageUrl:n,facebookClass:"facebook-count",linkedinClass:"linkedin-count",googlePlusClass:"google-count"};t={facebook:{url:"http://graph.facebook.com/?id="+r.pageUrl,getCount:function(){i(this.url,function(t){console.log(t),e("."+r.facebookClass).text(t.shares)})}},linkedin:{url:"https://www.linkedin.com/countserv/count/share?url="+r.pageUrl+"&format=json?callback=JSON_CALLBACK",getCount:function(){i(this.url,function(t){console.log(t),e("."+r.linkedinClass).text(t.count)})}},googlePlus:{url:"https://count.donreach.com/",getCount:function(){i(this.url,function(t){console.log(t),e("."+r.googlePlusClass).text(t.shares.google)})}},execute:function(){r.facebook===!0&&this.facebook.getCount(),r.linkedin===!0&&this.linkedin.getCount(),r.googlePlus===!0&&this.googlePlus.getCount()}},e(function(){var n=e(".share-links li");n.on("click","a.popup",function(){return window.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}),e("#twitterShare").sharrre({share:{twitter:!0},template:'<a class="twitter" href="#"><svg><use xlink:href="#twitter"></use></svg>{total}</a>',enableHover:!1,enableTracking:!0,buttons:{twitter:{via:"dodey"}},click:function(e){e.simulateClick(),e.openPopup("twitter")}}),t.execute()})})}),define("app/pages/post",function(){});