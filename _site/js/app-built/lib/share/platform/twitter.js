SharrrePlatform.register("twitter",function(e){return defaultSettings={url:"",urlCount:!1,count:!1,hashtags:"",via:"",related:"",lang:"en",popup:{width:650,height:360}},defaultSettings=$.extend(!0,{},defaultSettings,e),{settings:defaultSettings,trackingAction:{site:"twitter",action:"tweet"},url:function(e){return"https://opensharecount.com/count.json?url={url}"},load:function(e){var t=this.settings;$(e.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(t.url!==""?t.url:e.options.url)+'" data-count="'+t.count+'" data-text="'+e.options.text+'" data-via="'+t.via+'" data-hashtags="'+t.hashtags+'" data-related="'+t.related+'" data-lang="'+t.lang+'">Tweet</a></div>');var n=0;typeof twttr=="undefined"&&n==0?(n=1,function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://platform.twitter.com/widgets.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()):$.ajax({url:"https://platform.twitter.com/widgets.js",dataType:"script",cache:!0})},tracking:function(){tw=window.setInterval(function(){typeof twttr!="undefined"&&(twttr.events.bind("tweet",function(e){e&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1e3)},popup:function(e){window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(e.text)+"&url="+encodeURIComponent(this.settings.url!==""?this.setting.url:e.url)+(this.settings.via!==""?"&via="+this.settings.via:""),"","toolbar=0, status=0,width="+this.settings.popup.width+", height="+this.settings.popup.height)}}});