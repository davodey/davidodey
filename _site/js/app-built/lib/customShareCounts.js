(function(e){"use strict";e.fn.customShareCount=function(t){function r(e){return e===undefined?e=0:e}var n=e.extend({},e.fn.customShareCount.defaults,t);return this.on("click","a",function(){return window.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600"),!1}),this.each(function(){var t=e(this).attr("data-url"),i=e(this).attr("data-title"),s=e(this).attr("data-hash"),o=e(this).find(".facebook-count"),u=e(this).find(".linkedin-count"),a=e(this).find(".twitter-count"),f=e(this).find(".google-count"),l=e(this).find(".total-count"),c=0,h=0,p=0,d=0,v={placeHref:function(e,t){e.attr("href",t)},loadJson:function(t,r,i,s,o){e.ajax({url:r,cache:!0,type:"GET",dataType:"jsonp",data:{url:t},success:function(e){n.showCounts===!0&&(e[i]===undefined?s.text(v.convertK(0)):s.text(v.convertK(e[i]))),o(e)}})},total:function(){n.showTotal===!0&&l.text(v.convertK(r(h)+r(c)+r(p)+r(d)))},convertK:function(e){return e>999?(e/1e3).toFixed(1)+"k":e},facebook:{jsonUrl:"http://graph.facebook.com/?id="+t,linkUrl:"https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t),linkTarget:e(this).find("a.facebookBtn"),load:function(){v.placeHref(this.linkTarget,this.linkUrl),v.loadJson(t,this.jsonUrl,"shares",o,function(e){h=e.shares,v.total()})}},linkedin:{jsonUrl:"https://www.linkedin.com/countserv/count/share?url="+t,linkUrl:"http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(t),linkTarget:e(this).find("a.linkedinBtn"),load:function(){v.placeHref(this.linkTarget,this.linkUrl),v.loadJson(t,this.jsonUrl,"count",u,function(e){c=e.count,v.total()})}},twitter:{jsonUrl:"http://opensharecount.com/count.json?url="+t,linkUrl:"http://twitter.com/intent/tweet?text="+i+" "+t+"&amp;via="+n.twitterUsername+" %23"+s+"&amp;source=webclient",linkTarget:e(this).find("a.twitterBtn"),load:function(){v.placeHref(this.linkTarget,this.linkUrl),v.loadJson(t,this.jsonUrl,"count",a,function(e){p=e.count,v.total()})}},google:{jsonUrl:"https://count.donreach.com/",linkUrl:"https://plus.google.com/share?url="+encodeURIComponent(t),linkTarget:e(this).find("a.googleBtn"),load:function(){v.placeHref(this.linkTarget,this.linkUrl),v.loadJson(t,this.jsonUrl,"shares",f,function(e){n.showCounts===!0&&f.text(v.convertK(e.shares.google)),d=e.shares.google,v.total()})}}};n.facebook===!0&&v.facebook.load(),n.linkedin===!0&&v.linkedin.load(),n.twitter===!0&&v.twitter.load(),n.google===!0&&v.google.load()})},e.fn.customShareCount.defaults={twitter:!0,facebook:!0,linkedin:!0,google:!0,twitterUsername:"",showCounts:!1,showTotal:!0}})(jQuery);